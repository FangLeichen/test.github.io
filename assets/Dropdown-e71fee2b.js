import{d as E,P as a,r as m,x as M,l as p,S as W,f as g,m as y,y as B,q as _,aU as F,F as L}from"./index-cb993d2f.js";import{T as R,c as C}from"./firstNotUndefined-dee13f97.js";var o={adjustX:1,adjustY:1},r=[0,0],$={topLeft:{points:["bl","tl"],overflow:o,offset:[0,-4],targetOffset:r},topCenter:{points:["bc","tc"],overflow:o,offset:[0,-4],targetOffset:r},topRight:{points:["br","tr"],overflow:o,offset:[0,-4],targetOffset:r},bottomLeft:{points:["tl","bl"],overflow:o,offset:[0,4],targetOffset:r},bottomCenter:{points:["tc","bc"],overflow:o,offset:[0,4],targetOffset:r},bottomRight:{points:["tr","br"],overflow:o,offset:[0,4],targetOffset:r}};const q=$;var H=["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"];const Y=E({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:a.string.def("rc-dropdown"),transitionName:String,overlayClassName:a.string.def(""),openClassName:String,animation:a.any,align:a.object,overlayStyle:{type:Object,default:void 0},placement:a.string.def("bottomLeft"),overlay:a.any,trigger:a.oneOfType([a.string,a.arrayOf(a.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:a.array,hideAction:a.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:a.number.def(.15),mouseLeaveDelay:a.number.def(.1)},emits:["visibleChange","overlayClick"],slots:["overlay"],setup:function(e,f){var s=f.slots,v=f.emit,h=f.expose,l=m(!!e.visible);M(function(){return e.visible},function(n){n!==void 0&&(l.value=n)});var u=m();h({triggerRef:u});var b=function(t){e.visible===void 0&&(l.value=!1),v("overlayClick",t)},w=function(t){e.visible===void 0&&(l.value=t),v("visibleChange",t)},P=function(){var t,i=(t=s.overlay)===null||t===void 0?void 0:t.call(s),c={prefixCls:"".concat(e.prefixCls,"-menu"),onClick:b,getPopupContainer:function(){return u.value.getPopupDomNode()}};return g(L,{key:F},[e.arrow&&g("div",{class:"".concat(e.prefixCls,"-arrow")},null),C(i,c,!1)])},O=p(function(){var n=e.minOverlayWidthMatchTrigger,t=n===void 0?!e.alignPoint:n;return t}),x=function(){var t,i=(t=s.default)===null||t===void 0?void 0:t.call(s);return l.value&&i?C(i[0],{class:e.openClassName||"".concat(e.prefixCls,"-open")},!1):i},N=p(function(){return!e.hideAction&&e.trigger.indexOf("contextmenu")!==-1?["click"]:e.hideAction});return function(){var n=e.prefixCls,t=e.arrow,i=e.showAction,c=e.overlayStyle,d=e.trigger,A=e.placement,S=e.align,T=e.getPopupContainer,k=e.transitionName,j=e.animation,V=e.overlayClassName,D=W(e,H);return g(R,y(y({},D),{},{prefixCls:n,ref:u,popupClassName:B(V,_({},"".concat(n,"-show-arrow"),t)),popupStyle:c,builtinPlacements:q,action:d,showAction:i,hideAction:N.value||[],popupPlacement:A,popupAlign:S,popupTransitionName:k,popupAnimation:j,popupVisible:l.value,stretch:O.value?"minWidth":"",onPopupVisibleChange:w,getPopupContainer:T}),{popup:P,default:x})}}});export{Y as D};
