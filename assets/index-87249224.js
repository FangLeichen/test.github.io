import{c as Ce,B as me,M as v,d as g}from"./index-99423b49.js";import{r as w,a as q,d as G,o as ye,f as c,m as o,V as ke,M as be,y as z,q as E,a8 as L,a9 as xe,aa as ge,ab as pe,ac as H,ad as V,B as he,ae as Te,af as Pe}from"./index-cb993d2f.js";import{o as we}from"./omit-b873fbf2.js";var Be=function(){var e=w(!1);return q(function(){e.value=!0}),e};const Fe=Be;var Oe={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:Object,emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function W(n){return!!(n&&n.then)}const j=G({compatConfig:{MODE:3},name:"ActionButton",props:Oe,setup:function(e,k){var u=k.slots,i=w(!1),b=w(),f=w(!1),y,x=Fe();ye(function(){e.autofocus&&(y=setTimeout(function(){var t;return(t=b.value.$el)===null||t===void 0?void 0:t.focus()}))}),q(function(){clearTimeout(y)});var p=function(r){var a=e.close;W(r)&&(f.value=!0,r.then(function(){x.value||(f.value=!1),a.apply(void 0,arguments),i.value=!1},function(s){console.error(s),x.value||(f.value=!1),i.value=!1}))},l=function(r){var a=e.actionFn,s=e.close,C=s===void 0?function(){}:s;if(!i.value){if(i.value=!0,!a){C();return}var d;if(e.emitEvent){if(d=a(r),e.quitOnNullishReturnValue&&!W(d)){i.value=!1,C(r);return}}else if(a.length)d=a(C),i.value=!1;else if(d=a(),!d){C();return}p(d)}};return function(){var t=e.type,r=e.prefixCls,a=e.buttonProps;return c(me,o(o(o({},Ce(t)),{},{onClick:l,loading:f.value,prefixCls:r},a),{},{ref:b}),u)}}});function h(n){return typeof n=="function"?n():n}const Ne=G({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName"],setup:function(e,k){var u=k.attrs,i=ke("Modal"),b=be(i,1),f=b[0];return function(){var y=e.icon,x=e.onCancel,p=e.onOk,l=e.close,t=e.closable,r=t===void 0?!1:t,a=e.zIndex,s=e.afterClose,C=e.visible,d=e.keyboard,F=e.centered,K=e.getContainer,Q=e.maskStyle,U=e.okButtonProps,X=e.cancelButtonProps,O=e.okCancel,N=O===void 0?!0:O,S=e.width,Y=S===void 0?416:S,_=e.mask,Z=_===void 0?!0:_,A=e.maskClosable,ee=A===void 0?!1:A,$=e.type,I=e.title,ne=e.content,te=e.direction,oe=e.closeIcon,ae=e.modalRender,re=e.focusTriggerAfterClose,P=e.rootPrefixCls,le=e.bodyStyle,ce=e.wrapClassName,ie=e.okType||"primary",B=e.prefixCls||"ant-modal",m="".concat(B,"-confirm"),ue=u.style||{},se=h(e.okText)||(N?f.value.okText:f.value.justOkText),fe=h(e.cancelText)||f.value.cancelText,R=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",de=z(m,"".concat(m,"-").concat($),"".concat(B,"-").concat($),E({},"".concat(m,"-rtl"),te==="rtl"),u.class),ve=N&&c(j,{actionFn:x,close:l,autofocus:R==="cancel",buttonProps:X,prefixCls:"".concat(P,"-btn")},{default:function(){return[fe]}});return c(v,{prefixCls:B,class:de,wrapClassName:z(E({},"".concat(m,"-centered"),!!F),ce),onCancel:function(M){return l({triggerCancel:!0},M)},visible:C,title:"",footer:"",transitionName:L(P,"zoom",e.transitionName),maskTransitionName:L(P,"fade",e.maskTransitionName),mask:Z,maskClosable:ee,maskStyle:Q,style:ue,bodyStyle:le,width:Y,zIndex:a,afterClose:s,keyboard:d,centered:F,getContainer:K,closable:r,closeIcon:oe,modalRender:ae,focusTriggerAfterClose:re},{default:function(){return[c("div",{class:"".concat(m,"-body-wrapper")},[c("div",{class:"".concat(m,"-body")},[h(y),I===void 0?null:c("span",{class:"".concat(m,"-title")},[h(I)]),c("div",{class:"".concat(m,"-content")},[h(ne)])]),c("div",{class:"".concat(m,"-btns")},[ve,c(j,{type:ie,actionFn:p,close:l,autofocus:R==="ok",buttonProps:U,prefixCls:"".concat(P,"-btn")},{default:function(){return[se]}})])])]}})}}});var Se=function(e){var k=document.createDocumentFragment(),u=o(o({},we(e,["parentContext","appContext"])),{},{close:f,visible:!0}),i=null;function b(){i&&(V(null,k),i.component.update(),i=null);for(var l=arguments.length,t=new Array(l),r=0;r<l;r++)t[r]=arguments[r];var a=t.some(function(d){return d&&d.triggerCancel});e.onCancel&&a&&e.onCancel.apply(e,t);for(var s=0;s<g.length;s++){var C=g[s];if(C===f){g.splice(s,1);break}}}function f(){for(var l=this,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];u=o(o({},u),{},{visible:!1,afterClose:function(){typeof e.afterClose=="function"&&e.afterClose(),b.apply(l,r)}}),y(u)}function y(l){typeof l=="function"?u=l(u):u=o(o({},u),l),i&&(he(i.component.props,u),i.component.update())}var x=function(t){var r=Pe,a=r.prefixCls,s=t.prefixCls||"".concat(a,"-modal");return c(Te,o(o({},r),{},{notUpdateGlobalConfig:!0,prefixCls:a}),{default:function(){return[c(Ne,o(o({},t),{},{rootPrefixCls:a,prefixCls:s}),null)]}})};function p(l){var t=c(x,o({},l));return t.appContext=e.parentContext||e.appContext||t.appContext,V(t,k),t}return i=p(u),g.push(f),{destroy:f,update:y}};const T=Se;function _e(n){return o(o({icon:function(){return c(H,null,null)},okCancel:!1},n),{},{type:"warning"})}function Ae(n){return o(o({icon:function(){return c(xe,null,null)},okCancel:!1},n),{},{type:"info"})}function $e(n){return o(o({icon:function(){return c(ge,null,null)},okCancel:!1},n),{},{type:"success"})}function Ie(n){return o(o({icon:function(){return c(pe,null,null)},okCancel:!1},n),{},{type:"error"})}function Re(n){return o(o({icon:function(){return c(H,null,null)},okCancel:!0},n),{},{type:"confirm"})}function J(n){return T(_e(n))}v.info=function(e){return T(Ae(e))};v.success=function(e){return T($e(e))};v.error=function(e){return T(Ie(e))};v.warning=J;v.warn=J;v.confirm=function(e){return T(Re(e))};v.destroyAll=function(){for(;g.length;){var e=g.pop();e&&e()}};v.install=function(n){return n.component(v.name,v),n};
